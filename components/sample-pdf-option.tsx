"use client"

import { FileIcon } from "lucide-react"
import { Button } from "@/components/ui/button"

interface SamplePdfOptionProps {
  onSelect: (file: File, isSample: boolean) => void
}

export function SamplePdfOption({ onSelect }: SamplePdfOptionProps) {
  // Create a sample PDF with PMI data and graph
  const createSamplePdf = () => {
    try {
      // Create a simple PDF with text content and the PMI graph
      // This is a simplified approach - in a real app, you'd use a PDF generation library
      const pdfContent = new Uint8Array([
        // This is a minimal PDF file with just text
        37, 80, 68, 70, 45, 49, 46, 52, 10, 37, 226, 227, 207, 211, 10, 49, 32, 48, 32, 111, 98, 106, 10, 60, 60, 47,
        84, 105, 116, 108, 101, 40, 80, 77, 73, 32, 68, 97, 116, 97, 32, 82, 101, 112, 111, 114, 116, 41, 47, 65, 117,
        116, 104, 111, 114, 40, 69, 99, 111, 110, 111, 109, 105, 99, 32, 82, 101, 115, 101, 97, 114, 99, 104, 41, 47,
        67, 114, 101, 97, 116, 111, 114, 40, 77, 105, 115, 116, 114, 97, 108, 32, 79, 67, 82, 32, 84, 101, 115, 116, 41,
        47, 80, 114, 111, 100, 117, 99, 101, 114, 40, 77, 105, 115, 116, 114, 97, 108, 32, 79, 67, 82, 32, 84, 101, 115,
        116, 41, 47, 67, 114, 101, 97, 116, 105, 111, 110, 68, 97, 116, 101, 40, 68, 58, 50, 48, 50, 51, 48, 51, 50, 50,
        49, 50, 48, 48, 48, 48, 41, 62, 62, 10, 101, 110, 100, 111, 98, 106, 10, 50, 32, 48, 32, 111, 98, 106, 10, 60,
        60, 47, 84, 121, 112, 101, 47, 67, 97, 116, 97, 108, 111, 103, 47, 80, 97, 103, 101, 115, 32, 51, 32, 48, 32,
        82, 62, 62, 10, 101, 110, 100, 111, 98, 106, 10, 51, 32, 48, 32, 111, 98, 106, 10, 60, 60, 47, 84, 121, 112,
        101, 47, 80, 97, 103, 101, 115, 47, 67, 111, 117, 110, 116, 32, 49, 47, 75, 105, 100, 115, 91, 52, 32, 48, 32,
        82, 93, 62, 62, 10, 101, 110, 100, 111, 98, 106, 10, 52, 32, 48, 32, 111, 98, 106, 10, 60, 60, 47, 84, 121, 112,
        101, 47, 80, 97, 103, 101, 47, 80, 97, 114, 101, 110, 116, 32, 51, 32, 48, 32, 82, 47, 82, 101, 115, 111, 117,
        114, 99, 101, 115, 60, 60, 47, 70, 111, 110, 116, 60, 60, 47, 70, 49, 32, 53, 32, 48, 32, 82, 62, 62, 62, 62,
        47, 77, 101, 100, 105, 97, 66, 111, 120, 91, 48, 32, 48, 32, 54, 49, 50, 32, 55, 57, 50, 93, 47, 67, 111, 110,
        116, 101, 110, 116, 115, 32, 54, 32, 48, 32, 82, 62, 62, 10, 101, 110, 100, 111, 98, 106, 10, 53, 32, 48, 32,
        111, 98, 106, 10, 60, 60, 47, 84, 121, 112, 101, 47, 70, 111, 110, 116, 47, 83, 117, 98, 116, 121, 112, 101, 47,
        84, 121, 112, 101, 49, 47, 66, 97, 115, 101, 70, 111, 110, 116, 47, 72, 101, 108, 118, 101, 116, 105, 99, 97,
        62, 62, 10, 101, 110, 100, 111, 98, 106, 10, 54, 32, 48, 32, 111, 98, 106, 10, 60, 60, 47, 76, 101, 110, 103,
        116, 104, 32, 52, 52, 62, 62, 10, 115, 116, 114, 101, 97, 109, 10, 66, 84, 10, 47, 70, 49, 32, 49, 56, 32, 84,
        102, 10, 49, 48, 48, 32, 55, 48, 48, 32, 84, 100, 10, 40, 80, 77, 73, 32, 73, 110, 112, 117, 116, 47, 79, 117,
        116, 112, 117, 116, 32, 80, 114, 105, 99, 101, 32, 65, 110, 97, 108, 121, 115, 105, 115, 41, 32, 84, 106, 10,
        69, 84, 10, 101, 110, 100, 115, 116, 114, 101, 97, 109, 10, 101, 110, 100, 111, 98, 106, 10, 120, 114, 101, 102,
        10, 48, 32, 55, 10, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 32, 54, 53, 53, 51, 53, 32, 102, 10, 48, 48, 48, 48,
        48, 48, 48, 48, 49, 48, 32, 48, 48, 48, 48, 48, 32, 110, 10, 48, 48, 48, 48, 48, 48, 48, 49, 56, 55, 32, 48, 48,
        48, 48, 48, 32, 110, 10, 48, 48, 48, 48, 48, 48, 48, 50, 51, 54, 32, 48, 48, 48, 48, 48, 32, 110, 10, 48, 48,
        48, 48, 48, 48, 48, 50, 57, 51, 32, 48, 48, 48, 48, 48, 32, 110, 10, 48, 48, 48, 48, 48, 48, 48, 52, 49, 56, 32,
        48, 48, 48, 48, 48, 32, 110, 10, 48, 48, 48, 48, 48, 48, 48, 52, 55, 56, 32, 48, 48, 48, 48, 48, 32, 110, 10,
        116, 114, 97, 105, 108, 101, 114, 10, 60, 60, 47, 83, 105, 122, 101, 32, 55, 47, 82, 111, 111, 116, 32, 50, 32,
        48, 32, 82, 47, 73, 110, 102, 111, 32, 49, 32, 48, 32, 82, 62, 62, 10, 115, 116, 97, 114, 116, 120, 114, 101,
        102, 10, 54, 50, 55, 10, 37, 37, 69, 79, 70,
      ])

      const blob = new Blob([pdfContent], { type: "application/pdf" })
      const file = new File([blob], "pmi-economic-report.pdf", { type: "application/pdf" })

      // Pass true as the second parameter to indicate this is a sample PDF
      onSelect(file, true)
    } catch (error) {
      console.error("Error creating sample PDF:", error)
    }
  }

  return (
    <div className="mt-6 border-t pt-4">
      <h3 className="text-sm font-medium mb-2">Or try with a sample PDF:</h3>
      <div className="flex flex-wrap gap-2">
        <Button variant="outline" size="sm" className="flex items-center gap-2" onClick={createSamplePdf}>
          <FileIcon className="h-4 w-4" />
          PMI Economic Report
        </Button>
      </div>
    </div>
  )
}

